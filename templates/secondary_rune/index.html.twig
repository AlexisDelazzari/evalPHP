{% extends 'base.html.twig' %}

{% block title %}Hello SecondaryRuneController!{% endblock %}

{% block body %}

<div>
    <form class="form-inline" method="get" action="">
        <div class="d-flex justify-content-between align-items-center w-100">
            <a href="?_locale=fr" class="float-left" onclick="this.submit(); return false;">
                <img class="mr-2 img-fluid" src="{{ asset('images/flags/france.png') }}" alt="French Flag" style="max-width: 100px;">
            </a>
            <a href="{{ path('app_admin') }}" class="btn btn-outline-danger">{{ 'Retour'|trans }}</a>
            <a href="{{ path('app_primary_rune_create')}}" class="btn btn-outline-success mr-2" >{{ 'input.create'|trans }}</a>
            <a href="?_locale=en" class="float-right" onclick="this.submit(); return false;">
                <img class="img-fluid" src="{{ asset('images/flags/anglais.png') }}" alt="English Flag" style="max-width: 100px;">
            </a>
        </div>
    </form>
    {% for flashMessage in app.flashes('success') %}
        <div class="alert alert-success" role="alert">
            {{ flashMessage }}
        </div>
    {% endfor %}

    {% for flashMessage in app.flashes('error') %}
        <div class="alert alert-danger" role="alert">
            {{ flashMessage }}
        </div>
    {% endfor %}
    {% for primaryRune in primaryRunes %}
        <div class="card mt-3 bg-dark text-white text-center" style="margin-left: 10%; margin-right: 10%; border: 1px solid {{ primaryRune.color }};">
            <div class="card-header text-center">
                <h2>{{ ('primary_runes.' ~ primaryRune.name) |trans }}</h2>
                <p>{{ ('primary_runes.' ~ primaryRune.description) |trans }}</p>
                <img src="{{ asset(primaryRune.image) }}" alt="{{  ('primary_runes.' ~primaryRune.name) |trans }}" class="img-fluid">
            </div>
            <div class="card-body">
                <a href="{{ path('app_secondary_rune_create', {'id': primaryRune.id}) }}" class="btn btn-outline-success mb-2" >{{ 'input.add' | trans }}</a>
                <div class="row">
                    {% for secondaryRune in secondaryRunes %}
                       {% if secondaryRune.primaryRune.id == primaryRune.id %}
                            <div class="col-6 col-md-4 col-lg-3" >
                                <div class="card mb-3 bg-dark" style="border: 1px solid {{ primaryRune.color }};">
                                    <div class="card-header text-center" style="min-height: 140px; ">
                                        <h3>{{ ('secondary_runes.' ~ secondaryRune.name) |trans }}</h3>
                                    </div>
                                    <div class="card-body">
                                        <img src="{{ asset(secondaryRune.image) }}" alt="{{ ('secondary_runes.' ~ secondaryRune.name) |trans }}" class="img-fluid">
                                    </div>
                                    <div  style="display grid; grid-template-columns: 1fr; grid-gap: 10px; justify-items: center; align-items: center;">
                                        <a href="{{ path('app_secondary_rune_delete', {'id': secondaryRune.id}) }}" class="btn btn-outline-danger mr-2" style="height: 40px;">{{ 'input.delete'|trans }}</a>
                                                                           </div>
                                </div>
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
            </div>
            <div class="card-footer text-center">
                <a href="{{ path('app_primary_rune_update', {'id': primaryRune.id}) }}" class="btn btn-outline-warning" >{{ 'input.update'|trans }}</a>
                <a href="{{ path('app_primary_rune_delete', {'id': primaryRune.id}) }}" class="btn btn-outline-danger ml-2" >{{ 'input.delete'|trans }}</a>
            </div>
        </div>
    {% endfor %}
</div>
{% endblock %}
