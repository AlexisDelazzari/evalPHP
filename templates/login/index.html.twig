{% extends 'base.html.twig' %}

{# Include Bootstrap CSS and JS #}
{% block stylesheets %}
    {{ parent() }}
{% endblock %}

{% block body %}
    <div class="container loginContainer bg-dark">
        {% if error %}
            <div class="alert alert-danger" role="alert">
                {{ error.messageKey|trans(error.messageData, 'security') }}
            </div>
        {% endif %}
        {% for message in app.flashes('success') %}
            <div class="alert alert-success">
                {{ message }}
            </div>
        {% endfor %}

        {% for message in app.flashes('error') %}
            <div class="alert alert-danger">
                {{ message }}
            </div>
        {% endfor %}

        <form class="form-inline" method="get" action="">
            <div class="d-flex justify-content-between align-items-center w-100">
                <a href="?_locale=fr" class="float-left" onclick="this.submit(); return false;">
                    <img class="mr-2 img-fluid" src="{{ asset('images/flags/france.png') }}" alt="French Flag" style="max-width: 100px;">
                </a>
                <a href="?_locale=en" class="float-right" onclick="this.submit(); return false;">
                    <img class="img-fluid" src="{{ asset('images/flags/anglais.png') }}" alt="English Flag" style="max-width: 100px;">
                </a>
            </div>
        </form>

        <form action="{{ path('app_login') }}" method="post">
            <div class="form-group">
                <label for="username">{{ 'labels.email'|trans }}</label>
                <input type="text" class="form-control border-success" id="username" name="_username" value="{{ last_username }}">
            </div>

            <div class="form-group">
                <label for="password">{{ 'labels.password'|trans }}</label>
                <input type="password" class="form-control border-success" id="password" name="_password">
            </div>

            <input type="hidden" name="_csrf_token" value="{{ csrf_token('authenticate') }}">

            <button type="submit" class="btn btn-success btn-block mt-5 ">{{ 'labels.log_in'|trans }}</button>
            <a href="{{ path('app_register')}}" class="btn btn-outline-success mr-2 mt-4 " style="width: 100%; text-align: center;">{{ 'input.register'|trans }}</a>
        </form>
    </div>
{% endblock %}
